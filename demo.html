<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Food Menu Management System - Demo</title>
    <link rel="stylesheet" href="assets/css/style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .demo-notice {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 1rem;
            text-align: center;
            margin-bottom: 1rem;
            border-radius: 5px;
        }
        .demo-notice h3 {
            margin: 0 0 0.5rem 0;
        }
        .demo-notice p {
            margin: 0;
            opacity: 0.9;
        }
    </style>
</head>
<body>
    <div class="demo-notice">
        <h3><i class="fas fa-info-circle"></i> Demo Mode</h3>
        <p>This is a frontend-only demo. For full functionality, please set up PHP and MySQL as described in the README.</p>
    </div>

    <div id="app">
        <!-- Navigation -->
        <nav class="navbar">
            <div class="nav-container">
                <div class="nav-logo">
                    <h2><i class="fas fa-utensils"></i> Menu Manager</h2>
                </div>
                <div class="nav-menu" id="nav-menu">
                    <a href="#dashboard" class="nav-link active" data-page="dashboard">
                        <i class="fas fa-tachometer-alt"></i> Dashboard
                    </a>
                    <a href="#menu" class="nav-link" data-page="menu">
                        <i class="fas fa-list"></i> Menu Items
                    </a>
                    <a href="#categories" class="nav-link" data-page="categories">
                        <i class="fas fa-tags"></i> Categories
                    </a>
                    <a href="#users" class="nav-link admin-only" data-page="users">
                        <i class="fas fa-users"></i> Users
                    </a>
                    <a href="#logout" class="nav-link" id="logout-btn">
                        <i class="fas fa-sign-out-alt"></i> Logout
                    </a>
                </div>
                <div class="nav-toggle" id="nav-toggle">
                    <span class="bar"></span>
                    <span class="bar"></span>
                    <span class="bar"></span>
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Dashboard Page -->
            <div id="dashboard-page" class="page active">
                <div class="page-header">
                    <h1><i class="fas fa-tachometer-alt"></i> Dashboard</h1>
                </div>
                <div class="dashboard-stats">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-utensils"></i>
                        </div>
                        <div class="stat-info">
                            <h3>12</h3>
                            <p>Total Menu Items</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-tags"></i>
                        </div>
                        <div class="stat-info">
                            <h3>6</h3>
                            <p>Categories</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-info">
                            <h3>3</h3>
                            <p>Users</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Menu Items Page -->
            <div id="menu-page" class="page">
                <div class="page-header">
                    <h1><i class="fas fa-list"></i> Menu Items</h1>
                    <button class="btn btn-primary" id="add-item-btn">
                        <i class="fas fa-plus"></i> Add Item
                    </button>
                </div>
                
                <!-- Search and Filter Controls -->
                <div class="controls">
                    <div class="search-box">
                        <input type="text" id="search-input" placeholder="Search menu items...">
                        <i class="fas fa-search"></i>
                    </div>
                    <div class="filter-controls">
                        <select id="category-filter">
                            <option value="">All Categories</option>
                            <option value="1">Appetizers</option>
                            <option value="2">Main Courses</option>
                            <option value="3">Desserts</option>
                        </select>
                        <select id="sort-options">
                            <option value="name">Sort by Name</option>
                            <option value="price">Sort by Price</option>
                            <option value="category">Sort by Category</option>
                        </select>
                    </div>
                </div>

                <!-- Menu Items Grid -->
                <div id="menu-items-grid" class="items-grid">
                    <div class="item-card">
                        <img src="https://images.unsplash.com/photo-1546793665-c74683f339c1?w=400&h=300&fit=crop&crop=center" alt="Caesar Salad" class="item-image" loading="lazy">
                        <div class="item-content">
                            <h3 class="item-title">Caesar Salad</h3>
                            <p class="item-description">Fresh romaine lettuce with parmesan cheese and croutons</p>
                            <div class="item-price">₹299</div>
                            <div class="item-actions">
                                <button class="btn btn-secondary">
                                    <i class="fas fa-edit"></i> Edit
                                </button>
                                <button class="btn btn-danger">
                                    <i class="fas fa-trash"></i> Delete
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="item-card">
                        <img src="https://images.unsplash.com/photo-1532550907401-a500c9a57435?w=400&h=300&fit=crop&crop=center" alt="Grilled Chicken Breast" class="item-image" loading="lazy">
                        <div class="item-content">
                            <h3 class="item-title">Grilled Chicken Breast</h3>
                            <p class="item-description">Tender grilled chicken with herbs and spices</p>
                            <div class="item-price">₹449</div>
                            <div class="item-actions">
                                <button class="btn btn-secondary">
                                    <i class="fas fa-edit"></i> Edit
                                </button>
                                <button class="btn btn-danger">
                                    <i class="fas fa-trash"></i> Delete
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="item-card">
                        <img src="https://images.unsplash.com/photo-1578985545062-69928b1d9587?w=400&h=300&fit=crop&crop=center" alt="Chocolate Cake" class="item-image" loading="lazy">
                        <div class="item-content">
                            <h3 class="item-title">Chocolate Cake</h3>
                            <p class="item-description">Rich chocolate cake with chocolate frosting</p>
                            <div class="item-price">₹199</div>
                            <div class="item-actions">
                                <button class="btn btn-secondary">
                                    <i class="fas fa-edit"></i> Edit
                                </button>
                                <button class="btn btn-danger">
                                    <i class="fas fa-trash"></i> Delete
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="item-card">
                        <img src="https://images.unsplash.com/photo-1527477396000-e27163b481c2?w=400&h=300&fit=crop&crop=center" alt="Buffalo Wings" class="item-image" loading="lazy">
                        <div class="item-content">
                            <h3 class="item-title">Buffalo Wings</h3>
                            <p class="item-description">Spicy chicken wings with blue cheese dip</p>
                            <div class="item-price">₹249</div>
                            <div class="item-actions">
                                <button class="btn btn-secondary">
                                    <i class="fas fa-edit"></i> Edit
                                </button>
                                <button class="btn btn-danger">
                                    <i class="fas fa-trash"></i> Delete
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="item-card">
                        <img src="https://images.unsplash.com/photo-1604382354936-07c5d9983bd3?w=400&h=300&fit=crop&crop=center" alt="Margherita Pizza" class="item-image" loading="lazy">
                        <div class="item-content">
                            <h3 class="item-title">Margherita Pizza</h3>
                            <p class="item-description">Classic pizza with tomato, mozzarella, and fresh basil</p>
                            <div class="item-price">₹349</div>
                            <div class="item-actions">
                                <button class="btn btn-secondary">
                                    <i class="fas fa-edit"></i> Edit
                                </button>
                                <button class="btn btn-danger">
                                    <i class="fas fa-trash"></i> Delete
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="item-card">
                        <img src="https://images.unsplash.com/photo-1568901346375-23c9450c58cd?w=400&h=300&fit=crop&crop=center" alt="Beef Burger" class="item-image" loading="lazy">
                        <div class="item-content">
                            <h3 class="item-title">Beef Burger</h3>
                            <p class="item-description">Juicy beef patty with lettuce, tomato, and special sauce</p>
                            <div class="item-price">₹329</div>
                            <div class="item-actions">
                                <button class="btn btn-secondary">
                                    <i class="fas fa-edit"></i> Edit
                                </button>
                                <button class="btn btn-danger">
                                    <i class="fas fa-trash"></i> Delete
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Categories Page -->
            <div id="categories-page" class="page">
                <div class="page-header">
                    <h1><i class="fas fa-tags"></i> Categories</h1>
                    <button class="btn btn-primary" id="add-category-btn">
                        <i class="fas fa-plus"></i> Add Category
                    </button>
                </div>
                <div id="categories-list" class="categories-container">
                    <div class="category-card">
                        <h3 class="category-title">Appetizers</h3>
                        <p class="category-description">Starters and small plates</p>
                        <div class="category-actions">
                            <button class="btn btn-secondary">
                                <i class="fas fa-edit"></i> Edit
                            </button>
                            <button class="btn btn-danger">
                                <i class="fas fa-trash"></i> Delete
                            </button>
                        </div>
                    </div>
                    <div class="category-card">
                        <h3 class="category-title">Main Courses</h3>
                        <p class="category-description">Primary dishes and entrees</p>
                        <div class="category-actions">
                            <button class="btn btn-secondary">
                                <i class="fas fa-edit"></i> Edit
                            </button>
                            <button class="btn btn-danger">
                                <i class="fas fa-trash"></i> Delete
                            </button>
                        </div>
                    </div>
                    <div class="category-card">
                        <h3 class="category-title">Desserts</h3>
                        <p class="category-description">Sweet treats and desserts</p>
                        <div class="category-actions">
                            <button class="btn btn-secondary">
                                <i class="fas fa-edit"></i> Edit
                            </button>
                            <button class="btn btn-danger">
                                <i class="fas fa-trash"></i> Delete
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Users Page (Admin Only) -->
            <div id="users-page" class="page">
                <div class="page-header">
                    <h1><i class="fas fa-users"></i> Users</h1>
                    <button class="btn btn-primary" id="add-user-btn">
                        <i class="fas fa-user-plus"></i> Add User
                    </button>
                </div>
                <div id="users-list" class="users-container">
                    <table class="users-table">
                        <thead>
                            <tr>
                                <th>Username</th>
                                <th>Email</th>
                                <th>Role</th>
                                <th>Created</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>admin</td>
                                <td>admin@menumanager.com</td>
                                <td><span class="badge badge-admin">admin</span></td>
                                <td>2024-01-15</td>
                                <td>
                                    <button class="btn btn-secondary">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>manager</td>
                                <td>manager@menumanager.com</td>
                                <td><span class="badge badge-manager">manager</span></td>
                                <td>2024-01-16</td>
                                <td>
                                    <button class="btn btn-secondary">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn btn-danger">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </main>

        <!-- Modal for Add/Edit Item -->
        <div id="item-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 id="item-modal-title">Add Menu Item</h3>
                    <span class="close" id="close-item-modal">&times;</span>
                </div>
                <form id="item-form">
                    <input type="hidden" id="item-id" name="id">
                    <div class="form-group">
                        <label for="item-name">Name</label>
                        <input type="text" id="item-name" name="name" required>
                    </div>
                    <div class="form-group">
                        <label for="item-description">Description</label>
                        <textarea id="item-description" name="description" rows="3"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="item-price">Price (₹)</label>
                        <input type="number" id="item-price" name="price" step="0.01" min="0" required>
                    </div>
                    <div class="form-group">
                        <label for="item-category">Category</label>
                        <select id="item-category" name="category_id" required>
                            <option value="">Select Category</option>
                            <option value="1">Appetizers</option>
                            <option value="2">Main Courses</option>
                            <option value="3">Desserts</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="item-image">Image URL</label>
                        <div style="display: flex; gap: 0.5rem;">
                            <input type="url" id="item-image" name="image_url" placeholder="https://example.com/image.jpg">
                            <button type="button" class="btn btn-secondary" id="suggest-image-btn">
                                <i class="fas fa-images"></i> Browse
                            </button>
                        </div>
                        <div id="image-preview-container"></div>
                    </div>
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" id="cancel-item">Cancel</button>
                        <button type="submit" class="btn btn-primary">Save Item</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Loading Spinner -->
        <div id="loading" class="loading">
            <div class="spinner"></div>
        </div>

        <!-- Toast Notifications -->
        <div id="toast-container" class="toast-container"></div>
    </div>

    <script src="assets/js/image-helper.js"></script>
    <script>
        // Simple demo navigation
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize image helper
            const imageHelper = new ImageHelper();
            // Enable admin features for demo
            document.body.classList.add('admin');
            
            // Navigation handling
            document.querySelectorAll('.nav-link').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const page = this.getAttribute('data-page');
                    if (page && page !== 'logout') {
                        showPage(page);
                    }
                });
            });
            
            // Modal handling
            document.getElementById('add-item-btn').addEventListener('click', () => {
                document.getElementById('item-modal').classList.add('active');
            });

            // Image suggestion handling
            document.getElementById('suggest-image-btn').addEventListener('click', () => {
                const itemName = document.getElementById('item-name').value || 'food';
                const categorySelect = document.getElementById('item-category');
                const categoryName = categorySelect.options[categorySelect.selectedIndex]?.text || null;

                imageHelper.showImageSuggestions(itemName, categoryName, (imageUrl) => {
                    document.getElementById('item-image').value = imageUrl;
                    updateImagePreview(imageUrl);
                });
            });

            // Image preview functionality
            function updateImagePreview(url) {
                const container = document.getElementById('image-preview-container');
                container.innerHTML = '';

                if (url) {
                    const preview = imageHelper.createImagePreview(url, container);
                    preview.querySelector('.change-image').addEventListener('click', () => {
                        document.getElementById('suggest-image-btn').click();
                    });
                }
            }

            // Update preview when URL is typed
            document.getElementById('item-image').addEventListener('input', (e) => {
                const url = e.target.value;
                if (url) {
                    updateImagePreview(url);
                } else {
                    document.getElementById('image-preview-container').innerHTML = '';
                }
            });
            
            document.getElementById('close-item-modal').addEventListener('click', () => {
                document.getElementById('item-modal').classList.remove('active');
            });
            
            document.getElementById('cancel-item').addEventListener('click', () => {
                document.getElementById('item-modal').classList.remove('active');
            });
            
            // Add Category button
            document.getElementById('add-category-btn').addEventListener('click', () => {
                alert('Add Category feature - This would open a category form in the full version!');
            });

            // Add User button
            document.getElementById('add-user-btn').addEventListener('click', () => {
                alert('Add User feature - This would open a user form in the full version!');
            });

            // Edit and Delete buttons for menu items
            document.querySelectorAll('.btn-secondary').forEach(btn => {
                if (btn.textContent.includes('Edit')) {
                    btn.addEventListener('click', () => {
                        alert('Edit feature - This would open the edit form in the full version!');
                    });
                }
            });

            document.querySelectorAll('.btn-danger').forEach(btn => {
                if (btn.textContent.includes('Delete')) {
                    btn.addEventListener('click', () => {
                        if (confirm('Are you sure you want to delete this item?')) {
                            alert('Delete feature - This would delete the item in the full version!');
                        }
                    });
                }
            });

            // Mobile navigation
            document.getElementById('nav-toggle').addEventListener('click', function() {
                document.getElementById('nav-menu').classList.toggle('active');
            });
            
            function showPage(pageName) {
                // Hide all pages
                document.querySelectorAll('.page').forEach(page => {
                    page.classList.remove('active');
                });
                
                // Show selected page
                const targetPage = document.getElementById(`${pageName}-page`);
                if (targetPage) {
                    targetPage.classList.add('active');
                }
                
                // Update navigation
                document.querySelectorAll('.nav-link').forEach(link => {
                    link.classList.remove('active');
                });
                const activeLink = document.querySelector(`[data-page="${pageName}"]`);
                if (activeLink) {
                    activeLink.classList.add('active');
                }
            }
        });
    </script>
</body>
</html>
